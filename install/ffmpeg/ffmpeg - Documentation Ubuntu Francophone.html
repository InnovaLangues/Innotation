<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" dir="ltr" lang="fr"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="Content-Script-Type" content="text/javascript">
    <meta http-equiv="Content-Style-Type" content="text/css">
    <meta http-equiv="Content-Language" content="fr">
    <title>ffmpeg - Documentation Ubuntu Francophone</title>
    <meta name="Description" content="Documentation francophone pour la distribution Ubuntu" lang="fr">
    <meta name="language" content="fr-FR">

    <!--[if IE 8]>
    <meta http-equiv="X-UA-Compatible" content="IE=8" />
    <![endif]-->
        <meta name="generator" content="DokuWiki">
<meta name="robots" content="index,follow">
<meta name="date" content="2013-04-12T14:17:57+0200">
<meta name="keywords" content="audio,video,encodage,montage video,capture video,multimedia">
<link rel="search" type="application/opensearchdescription+xml" href="http://doc.ubuntu-fr.org/lib/exe/opensearch.php" title="Documentation Ubuntu Francophone">
<link rel="start" href="http://doc.ubuntu-fr.org/">
<link rel="contents" href="http://doc.ubuntu-fr.org/ffmpeg?do=index" title="Index">
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="http://doc.ubuntu-fr.org/feed.php">
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="http://doc.ubuntu-fr.org/feed.php?mode=list&amp;ns=">
<link rel="edit" title="Modifier cette page" href="http://doc.ubuntu-fr.org/ffmpeg?do=edit">
<link rel="alternate" type="text/html" title="Plain HTML" href="http://doc.ubuntu-fr.org/_export/xhtml/ffmpeg">
<link rel="alternate" type="text/plain" title="Wiki Markup" href="http://doc.ubuntu-fr.org/_export/raw/ffmpeg">
<link rel="canonical" href="http://doc.ubuntu-fr.org/ffmpeg">
<link rel="stylesheet" type="text/css" href="ffmpeg%20-%20Documentation%20Ubuntu%20Francophone_fichiers/css.css">
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"id":"ffmpeg","namespace":""};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="ffmpeg%20-%20Documentation%20Ubuntu%20Francophone_fichiers/js.js"></script>
    <link rel="shortcut icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/icone.png" type="image/x-icon">
    <link rel="apple-touch-icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/touch-ico.png">

    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="ffmpeg%20-%20Documentation%20Ubuntu%20Francophone_fichiers/doc.css">
    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="ffmpeg%20-%20Documentation%20Ubuntu%20Francophone_fichiers/doc-ubuntu.css">
    <link rel="stylesheet" media="print" type="text/css" title="Design Ubuntu-fr" href="ffmpeg%20-%20Documentation%20Ubuntu%20Francophone_fichiers/doc-print.css">

    <script type="text/javascript">
      var menu_hidden;
      var static_url = "UFR_STATIC";
    </script>
    <script src="ffmpeg%20-%20Documentation%20Ubuntu%20Francophone_fichiers/menu.js" type="text/javascript"></script>
    <script src="ffmpeg%20-%20Documentation%20Ubuntu%20Francophone_fichiers/common.js" type="text/javascript"></script>
  </head>
  <body>

    <div id="accessibar">
      <a href="#main" tabindex="1">Contenu</a> | <a href="#qsearch__in" tabindex="2">Rechercher</a> | <a href="#navigation" tabindex="3">Menus</a>
    </div>

    <div id="page">

      <div id="header">

        <div id="logo">
          <h1>Ubuntu-fr</h1>
          <a href="http://doc.ubuntu-fr.org/" title="Accueil de la documentation">Communauté francophone d'utilisateurs d'Ubuntu</a>
        </div>

        <form action="http://ubuntu-fr.org/recherche" accept-charset="utf-8" id="search" onsubmit="if (document.getElementById('qsearch__in').value == 'Recherche rapide....') {document.getElementById('qsearch__in').value = '';}">
          <fieldset>
            <label for="qsearch__in">Recherche : </label><input value="Recherche rapide...." id="qsearch__in" accesskey="f" name="sk_q" alt="[F]" size="34" tabindex="4" type="text">
            <label for="tsearch_field">Chercher dans : </label><select name="sk_engine" tabindex="5" id="tsearch_field" title="Chercher dans">
              <option value="all">Site</option>
              <option selected="selected" value="doc">Documentation</option>
              <option value="forum">Forum</option>
              <option value="planet">Planet</option>
            </select>
            <input value="ok" class="button" alt="Lancer la recherche" tabindex="5" type="submit">
          </fieldset>
        </form>
        <!--[if lte IE 7]><div class="clear"></div><![endif]-->

        <form action="" accept-charset="utf-8" id="login_top" method="post">
          <fieldset>
            <label for="u_field">Identifiant : </label><input value="Identifiant" name="u" id="u_field" size="9" type="text"><label for="p_field">Mot de passe : </label><input value="Mot de passe" name="p" id="p_field" size="9" alt="Mot de passe" type="password"><input value="connexion" id="connect" type="submit"> / <a href="http://forum.ubuntu-fr.org/register.php">inscription</a>
          </fieldset>
        </form>
 

      </div>

      <div id="navbar">
          <h2 id="pagetitle"><a href="http://doc.ubuntu-fr.org/ffmpeg">ffmpeg</a></h2>
      </div>

      
      <div id="main" class="dokuwiki">

        <div id="hidemenu" title="Masquer le menu"></div>

        <div id="pagerror"></div>
                <!-- TOC START -->
<div id="dw__toc">
<h3 style="cursor: pointer;" class="toggle open"><strong><span>−</span></strong>Table des matières</h3>
<div style="">

<ul class="toc">
<li class="level1"><div class="li"><a href="#utilisation_graphique">Utilisation graphique</a></div></li>
<li class="level1"><div class="li"><a href="#installation">Installation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#depot_officiel_recommande">Dépôt officiel (recommandé)</a></div></li>
<li class="level2"><div class="li"><a href="#depot_ppa_de_jon_severinsson">Dépôt PPA (de Jon Severinsson)</a></div></li>
<li class="level2"><div class="li"><a href="#par_compilation">Par compilation</a></div></li>
<li class="level2"><div class="li"><a href="#ffmpeg_et_le_support_aac">FFmpeg et le support AAC</a></div></li>
<li class="level2"><div class="li"><a href="#depuis_les_depots_medibuntu">Depuis les dépôts Medibuntu</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#utilisation">Utilisation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#commencer_sur_une_bonne_base">Commencer sur une bonne base</a></div></li>
<li class="level2"><div class="li"><a href="#connaitre_ffmpeg">Connaître FFmpeg</a></div></li>
<li class="level2"><div class="li"><a href="#instruction_generale">Instruction générale</a></div></li>
<li class="level2"><div class="li"><a href="#extraction_de_la_bande_audio">Extraction de la bande Audio</a></div></li>
<li class="level2"><div class="li"><a href="#extraction_de_la_bande_video">Extraction de la bande Video</a></div></li>
<li class="level2"><div class="li"><a href="#instructions_d_encodage_audio">Instructions d'encodage Audio</a></div></li>
<li class="level2"><div class="li"><a href="#instructions_d_encodage_video">Instructions d'encodage vidéo</a></div></li>
<li class="level2"><div class="li"><a href="#transformer_la_video">Transformer la vidéo</a></div></li>
<li class="level2"><div class="li"><a href="#faire_des_essais_de_conversion_avec_ffmpeg_sur_une_portion_de_fichier">Faire des essais de conversion avec FFmpeg sur une portion de fichier</a></div></li>
<li class="level2"><div class="li"><a href="#exemples_de_conversions">Exemples de conversions</a></div></li>
<li class="level2"><div class="li"><a href="#utilisations_specifiques">Utilisations spécifiques</a></div></li>
<li class="level2"><div class="li"><a href="#convertir_tous_les_fichiers_windows_media_audio_wma_en_mp3">Convertir tous les fichiers Windows Media Audio ( WMA ) en mp3</a></div></li>
<li class="level2"><div class="li"><a href="#pour_consulter_le_manuel_de_ffmpeg">Pour consulter le manuel de FFmpeg</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#pour_en_savoir_plus_sur_internet">Pour en savoir plus sur Internet</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->
<div class="tags"><span>
	<a href="http://doc.ubuntu-fr.org/audio" class="wikilink1" title="audio" rel="tag">audio</a>,
	<a href="http://doc.ubuntu-fr.org/video" class="wikilink1" title="video" rel="tag">vidéo</a>,
	<a href="http://doc.ubuntu-fr.org/encodage?do=showtag&amp;tag=encodage" class="wikilink1" title="encodage" rel="tag">encodage</a>,
	<a href="http://doc.ubuntu-fr.org/montage_video" class="wikilink1" title="montage_video" rel="tag">montage vidéo</a>,
	<a href="http://doc.ubuntu-fr.org/capture_video" class="wikilink1" title="capture_video" rel="tag">capture vidéo</a>,
	<a href="http://doc.ubuntu-fr.org/multimedia" class="wikilink1" title="multimedia" rel="tag">multimédia</a>
</span></div>
<hr>

<h1 class="sectionedit1" id="ffmpeg">FFmpeg</h1>
<div class="level1">

<p>
<a href="http://doc.ubuntu-fr.org/lib/exe/fetch.php?hash=c81986&amp;media=http%3A%2F%2Fffmpeg.org%2Fffmpeg-logo.png" class="media" title="http://ffmpeg.org/ffmpeg-logo.png"><img src="ffmpeg%20-%20Documentation%20Ubuntu%20Francophone_fichiers/fetch.png" class="mediacenter" title=" Logo de ffmpeg" alt=" Logo de ffmpeg"></a>
<strong>FFmpeg</strong> est un logiciel de lecture et encodage de vidéo. Très puissant comme son alter ego <a href="http://doc.ubuntu-fr.org/mencoder" class="wikilink1" title="mencoder">Mencoder</a>, il assure en ligne de commande la possibilité de convertir les fichiers vidéo d'un format à un autre. 
</p>

<p>
</p><p></p><div class="noteclassic">Il  y a eu une scission entre les développeurs : une partie est sur <a href="http://libav.org/" class="urlextern" title="http://libav.org" rel="nofollow">Libav</a> et une autre partie sur <a href="http://ffmpeg.org/" class="urlextern" title="http://ffmpeg.org" rel="nofollow">FFmpeg</a>. La version de <em>Libav</em> est celle qui est utilisée sur <em>Ubuntu</em>. Cependant <em>Libav</em> a décidé de ne plus avoir de liens avec <code>ffmpeg</code>, ils ont donc décidé de changer de commande. D'où la création de la commande <code>avconv</code> et un message indiquant l'obsolescence de <code>ffmpeg</code>. La communauté <em>FFmpeg</em> continuera avec la commande <code>ffmpeg</code>.
<p></p>

<p>
On peut donc envisager que dans le futur cohabiteront la commande <code>ffmpeg</code> de <em>FFmpeg</em> et la commande <code>avconv</code> de <em>Libav</em>.
</p>

<p>
Voir des réactions à ce sujet sur <a href="http://linuxfr.org/news/ffmpeg-1-0#comment-1395196" class="urlextern" title="http://linuxfr.org/news/ffmpeg-1-0#comment-1395196" rel="nofollow">LinuFR.org</a> et <a href="http://computing.travellingfroggy.info/index.php?article128/ffmpeg-aconv-libav-c-est-quoi-ce-souk" class="urlextern" title="http://computing.travellingfroggy.info/index.php?article128/ffmpeg-aconv-libav-c-est-quoi-ce-souk" rel="nofollow">un billet de blog</a> un peu plus explicatif.
</p></div><p></p>
<p></p>

</div>
<div class="secedit editbutton_section editbutton_1"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[FFmpeg] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="80-1273" type="hidden"><input value="Modifier" class="button" title="FFmpeg" type="submit"></div></form></div>
<h2 class="sectionedit2" id="utilisation_graphique">Utilisation graphique</h2>
<div class="level2">

<p>
Il existe des interfaces graphiques permettant de simplifier grandement le transcodage de fichiers :
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://ekd.tuxfamily.org/" class="urlextern" title="http://ekd.tuxfamily.org/" rel="nofollow">EKD</a>
 - EKD est un logiciel libre qui se propose de faire des opérations de 
post-production aussi bien pour des vidéo, que pour des images. En ce 
qui concerne les images, EKD fait du traitement par lots.</div>
</li>
<li class="level1"><div class="li"> <a href="http://doc.ubuntu-fr.org/hyper_video_converter" class="wikilink1" title="hyper_video_converter">Hyper video converter</a> - Il permet tout ce que permet FFMpeg mais avec une interface graphique ! (projet inactif depuis 2008)</div>
</li>
<li class="level1"><div class="li"> <a href="http://doc.ubuntu-fr.org/winff" class="wikilink1" title="winff">WinFF</a>
 - Ce logiciel vous permet de choisir parmi une liste de profils un 
encodage vidéo qui conviendra à vos attentes. Par exemple si vous voulez
 faire une vidéo compatible Blackberry, il ne vous sera même pas 
nécessaire de savoir quel est l'encodage interne utilisé.</div>
</li>
<li class="level1"><div class="li"> <a href="http://doc.ubuntu-fr.org/arista_transcoder" class="wikilink2" title="arista_transcoder" rel="nofollow">Arista Transcoder</a>  - Type WinFF , avec une interface voir la page <a href="http://doc.ubuntu-fr.org/arista" class="wikilink1" title="arista">arista</a>.</div>
</li>
</ul>

<p>
D'autres interfaces graphiques ont été créées pour répondre à des attentes spécifiques :
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://doc.ubuntu-fr.org/mobile_media_converter" class="wikilink1" title="mobile_media_converter">Mobile Media Converter</a>
 - Se propose quant à lui de transcoder vos vidéo pour les appareils de 
lecture vidéo mobiles tels que les téléphones portables les iPod et les 
lecteurs <abbr title="Moving Picture Experts Group Layer 3">MP3</abbr>/MP4.</div>
</li>
</ul>

<p>
D'autres logiciels permettent de faire des modifications plus profondes à
 la vidéo et utilisent FFMpeg pour rendre la vidéo finale :
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://doc.ubuntu-fr.org/avidemux" class="wikilink1" title="avidemux">Avidemux</a>
 - Sa principale particularité est de permettre l'application de filtres
 à la vidéo comme par exemple enlever les bandes noire d'une vidéo. 
Concernant le transcodage il se débrouille très bien et permet 
l'utilisation des principaux codecs en lecture et en écriture 
(équivalent de Virtualdub).</div>
</li>
<li class="level1"><div class="li"> <a href="http://doc.ubuntu-fr.org/cinelerra" class="wikilink1" title="cinelerra">Cinelerra</a>
 - Logiciel de montage extrêmement puissant, ne convient pas aux 
débutants et ne propose pas une interface simple d'utilisation en 
matière de transcodage. Réservez-le à vos effets spéciaux <img src="ffmpeg%20-%20Documentation%20Ubuntu%20Francophone_fichiers/icon_biggrin.gif" class="icon" alt=":-D"></div>
</li>
<li class="level1"><div class="li"> <a href="http://doc.ubuntu-fr.org/kino" class="wikilink1" title="kino">Kino</a> - Logiciel de montage et de transcodage destiné aux débutants.</div>
</li>
<li class="level1"><div class="li"> <a href="http://sourceforge.net/projects/outreel/files/" class="urlextern" title="http://sourceforge.net/projects/outreel/files/" rel="nofollow">Outreelree</a> - Une autre <abbr title="Graphical User Interface">GUI</abbr> pour FFMpeg.</div>
</li>
</ul>

</div>
<div class="secedit editbutton_section editbutton_2"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Utilisation graphique] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="1274-3286" type="hidden"><input value="Modifier" class="button" title="Utilisation graphique" type="submit"></div></form></div>
<h2 class="sectionedit3" id="installation">Installation</h2>
<div class="level2">

</div>
<div class="secedit editbutton_section editbutton_3"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Installation] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="3287-3313" type="hidden"><input value="Modifier" class="button" title="Installation" type="submit"></div></form></div>
<h3 class="sectionedit4" id="depot_officiel_recommande">Dépôt officiel (recommandé)</h3>
<div class="level3">

<p>
Il suffit d'<a href="http://doc.ubuntu-fr.org/tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer le paquet</a> <strong><a href="apt://ffmpeg" class="urlextern" title="apt://ffmpeg" rel="nofollow">ffmpeg</a></strong> une fois les <a href="http://doc.ubuntu-fr.org/depots#universe_et_multiverse" class="wikilink1" title="depots">dépôts Universe activés</a>.
</p>

<p>
Note : les packages par défaut ne contiennent pas les codecs les plus 
classiques comme "mpeg4", pour cela il faut installer spécifiquement 
</p>
<pre class="code">sudo apt-get install libavcodec-unstripped-52 libavdevice-unstripped-52 libavformat-unstripped-52 libavutil-unstripped-50 libpostproc-unstripped-51 libswscale-unstripped-0 ffmpeg</pre>

</div>
<div class="secedit editbutton_section editbutton_4"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Dépôt officiel (recommandé)] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="3314-3860" type="hidden"><input value="Modifier" class="button" title="Dépôt officiel (recommandé)" type="submit"></div></form></div>
<h3 class="sectionedit5" id="depot_ppa_de_jon_severinsson">Dépôt PPA (de Jon Severinsson)</h3>
<div class="level3">

<p>
Ajouter le <a href="https://launchpad.net/%7Ejon-severinsson/+archive/ffmpeg" class="urlextern" title="https://launchpad.net/~jon-severinsson/+archive/ffmpeg" rel="nofollow">dépôt PPA de Jon Severinsson pour ffmpeg</a> en tapant la commande :
</p>
<pre class="code">sudo add-apt-repository ppa:jon-severinsson/ffmpeg &amp;&amp; sudo apt-get update -qq</pre>

<p>
et ensuite pour l'installer cliquer <strong><a href="apt://ffmpeg" class="interwiki iw_apt" title="apt://ffmpeg">ici</a></strong>
</p>

</div>
<div class="secedit editbutton_section editbutton_5"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Dépôt PPA (de Jon Severinsson)] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="3861-4183" type="hidden"><input value="Modifier" class="button" title="Dépôt PPA (de Jon Severinsson)" type="submit"></div></form></div>
<h3 class="sectionedit6" id="par_compilation">Par compilation</h3>
<div class="level3">

<p>
Il peut être intéressant de compiler FFmpeg afin de bénéficier des 
dernières optimisations et de manipuler des formats qui n'étaient pas 
encore supportés.
Par exemple pour les vidéo haute définition encodées avec x264 qui 
demandent beaucoup moins de ressources dans les dernières versions.
(Voir le <a href="http://ffmpeg.mplayerhq.hu/changelog.html" class="urlextern" title="http://ffmpeg.mplayerhq.hu/changelog.html" rel="nofollow">changelog</a> de FFmpeg)
</p>

<p>
</p><p></p><div class="noteimportant">
Cette méthode permet d'installer la toute dernière version de FFmpeg, mais celle-ci provenant du serveur <a href="http://doc.ubuntu-fr.org/git" class="wikilink1" title="git">Git</a>,
 elle est toujours en développement, ce qui signifie qu'elle peut se 
révéler instable. L'utilisation de cette version est donc à vos risques 
et périls.
<p></p>

<p>
Pour les détails de la compilation, rendez-vous à la page : <a href="http://doc.ubuntu-fr.org/tutoriel/comment_compiler_ffmpeg" class="wikilink1" title="tutoriel:comment_compiler_ffmpeg">Comment compiler FFmpeg</a>

</p></div><p></p>
<p></p>

</div>
<div class="secedit editbutton_section editbutton_6"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Par compilation] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="4184-5014" type="hidden"><input value="Modifier" class="button" title="Par compilation" type="submit"></div></form></div>
<h3 class="sectionedit7" id="ffmpeg_et_le_support_aac">FFmpeg et le support AAC</h3>
<div class="level3">

<p>
À compter de Ubuntu 7.04 (Feisty Fawn), une version de FFmpeg avec le support <abbr title="Advanced Audio Coding">AAC</abbr> activé est disponible dans le dépôt <a href="http://doc.ubuntu-fr.org/depots#medibuntu" class="wikilink1" title="depots">medibuntu</a>. Vous pouvez donc vouloir ajouter ce dépôt !
</p>

<p>
Vous pouvez aussi utiliser la méthode par compilation : <a href="http://doc.ubuntu-fr.org/tutoriel/comment_compiler_ffmpeg" class="wikilink1" title="tutoriel:comment_compiler_ffmpeg">Comment compiler FFmpeg</a>
</p>

<p>
Et voilà, la version compilée devrait permettre de compresser vos vidéo pour la  PSP.
</p>

</div>
<div class="secedit editbutton_section editbutton_7"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[FFmpeg et le support AAC] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="5015-5452" type="hidden"><input value="Modifier" class="button" title="FFmpeg et le support AAC" type="submit"></div></form></div>
<h3 class="sectionedit8" id="depuis_les_depots_medibuntu">Depuis les dépôts Medibuntu</h3>
<div class="level3">

<p>
Pour installer rapidement toute la collection des codecs, il faut activer le dépôt <a href="http://doc.ubuntu-fr.org/medibuntu" class="wikilink1" title="medibuntu">Medibuntu</a> et installer le paquet <strong><a href="apt://libavcodec-extra-53" class="urlextern" title="apt://libavcodec-extra-53" rel="nofollow">libavcodec-extra-53</a></strong> :
</p>
<pre class="code">sudo apt-get install libavcodec-extra-53</pre>

<p>
<strong>Attention :</strong> ces codecs peuvent ne pas être libres !
</p>

<p>
</p><p></p><div class="noteimportant">Pour une version antérieure à <em>Precise</em>, le numéro de révision change. Auparavant, c'était 52 : le nom du paquet était donc   : <strong>libavcodec-extra-52</strong> 
</div><p></p>.
<p></p>

</div>
<div class="secedit editbutton_section editbutton_8"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Depuis les dépôts Medibuntu] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="5453-5970" type="hidden"><input value="Modifier" class="button" title="Depuis les dépôts Medibuntu" type="submit"></div></form></div>
<h2 class="sectionedit9" id="utilisation">Utilisation</h2>
<div class="level2">

<p>
<strong>pré-requis</strong> : savoir utiliser un <a href="http://doc.ubuntu-fr.org/terminal" class="wikilink1" title="terminal">terminal</a>
</p>

<p>
FFMpeg s'utilise en ligne de commande dans un <strong><a href="http://doc.ubuntu-fr.org/terminal" class="wikilink1" title="terminal">terminal</a></strong>.
</p>

<p>
Ce programme demande un peu de patience pour le domestiquer, mais nous 
allons essayer de vous expliquer son fonctionnement bien comme il faut !
</p>

<p>
Première chose, il faut passer des instructions au programme pour 
fonctionner.
Une instruction est un texte, le plus souvent précédé d'un tiret, qui 
permet d'expliquer à un programme en ligne de commande ce que l'on veut 
de lui !
Les instructions peuvent être dans l'ordre que vous voulez !
Mais vous ne devez pas mélanger l'instruction et l'information que l'on 
veut passer à l'instruction.
Par exemple : 
</p>
<pre class="code">-vcodec copy</pre>

<p>
-vcodec commence par un tiret, il est donc l'instruction, "copy" par 
contre est ce que l'on veut dire à "-vcodec" il faut donc qu'il soit 
précisé juste après !
</p>

<p>
Pour en savoir plus, analysez les <a href="#exemples_de_conversions" title="ffmpeg ↵" class="wikilink1">exemples de conversions</a> en bas de page et dans le courant du texte !
</p>

</div>
<div class="secedit editbutton_section editbutton_9"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Utilisation] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="5971-6971" type="hidden"><input value="Modifier" class="button" title="Utilisation" type="submit"></div></form></div>
<h3 class="sectionedit10" id="commencer_sur_une_bonne_base">Commencer sur une bonne base</h3>
<div class="level3">

<p>
Toutes les instructions se passent de la même façon.
Par exemple pour  <strong>-vcodec copy</strong> taper dans un <a href="http://doc.ubuntu-fr.org/terminal" class="wikilink1" title="terminal">terminal</a>:
</p>
<pre class="code">ffmpeg -vcodec copy</pre>

<p>
Pour identifier le format d'un fichier multimedia (audio et/ou video), tapez :
</p>
<pre class="code">ffmpeg -i fichier 2&gt;&amp;1 | egrep "Seems|Input|Duration:|Stream"</pre>
<pre class="code">Seems stream 1 codec frame rate differs from container frame rate: 1000.00 (1000/1) -&gt; 25.00 (25/1)
Input #0, asf, from 'fichier':
  Duration: 00:01:19.50, start: 4.000000, bitrate: 389 kb/s
    Stream #0.0: Audio: wmav2, 44100 Hz, stereo, s16, 64 kb/s
    Stream #0.1: Video: wmv3, yuv420p, 320x240, 323 kb/s, 25 tbr, 1k tbn, 1k tbc</pre>

<p>
Le nombre d'instructions à passer peut être grand, il faudra en ajouter 
bout à bout et au final vous finirez par créer vous-même une commande 
correspondant à vos besoins !
Une commande finale ressemblera à ça :
</p>
<pre class="code">ffmpeg -i "vidéo d'entrée.avi" -threads 4 -f matroska -vcodec libvpx -vb 1350000 -rc_lookahead 16 -keyint_min 0 -g 360 -skip_threshold 0 -level 116 -qmin 15 -qmax 30 -acodec libvorbis -ab 128k -ar 44100 -ac 2 "vidéo de sortie.mkv"</pre>

</div>
<div class="secedit editbutton_section editbutton_10"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Commencer sur une bonne base] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="6972-8125" type="hidden"><input value="Modifier" class="button" title="Commencer sur une bonne base" type="submit"></div></form></div>
<h3 class="sectionedit11" id="connaitre_ffmpeg">Connaître FFmpeg</h3>
<div class="level3">

<p>
Ces instructions n'ont rien à voir avec l'encodage, elles servent à savoir ce que contient FFMpeg !
</p>

</div>

<h4 id="connaitre_les_conteneurs_installes">Connaître les conteneurs installés</h4>
<div class="level4">

<p>
Il est important de savoir ce que FFmpeg est capable de lire et d'écrire
 ! Si vous ne le savez pas, c'est simple ! Vous ne pouvez rien faire !
Lancez la commande :
</p>
<pre class="code">ffmpeg -formats</pre>

<p>
</p><p></p><div class="noteclassic">Il est recommandé d'utiliser 
<p></p>
<pre class="code">avconv -formats</pre>

<p>
 dorénavant
</p></div><p></p>
<p></p>

<p>
Après avoir appuyé sur la touche "Entrée", vous devez avoir une longue 
liste de formats (conteneurs) que reconnaît ffmpeg.
Cette liste est organisée de manière simple, la première colonne indique
 si l'on peut lire (D) ou écrire (E) le format en question.
</p>
<pre class="code">DE matroska        Matroska file format</pre>

<p>
Veut simplement dire que l'on peut à la fois lire et écrire les fichiers .mkv avec ffmpeg.
</p>

</div>

<h4 id="connaitre_les_codecs_installes">Connaître les codecs installés</h4>
<div class="level4">

<p>
Comme pour les conteneurs, vous pouvez avoir la liste des codecs disponibles.
Pour ceci faites :
</p>
<pre class="code">ffmpeg -codecs</pre>

<p>
Vous aurez une liste avec là aussi les fameux <strong>D</strong> et <strong>E</strong>. Mais aussi des <strong>V</strong>, <strong>A</strong> ou <strong>S</strong> qui vous permettent de savoir si un codec concerne la vidéo, le son ou les sous-titres.
</p>

<p>
</p><p></p><div class="noteclassic">Vous pouvez voir les codecs étranges comme <strong>lib</strong>quelquechose.
Ce sont des codecs externes pour ffmpeg.
<p></p>

<p>
Vous trouverez par exemple vorbis et libvorbis. Le codec est le même, il s'agit juste de deux encodeurs différents.
Si la qualité est importante pour vous,  préférez les libquelquechose aux quelquechose eux-mêmes.
</p>

<p>
Par exemple préférez libvorbis à vorbis, libfaac à aac, car la qualité s'en ressentira…
</p></div><p></p>
<p></p>

</div>
<div class="secedit editbutton_section editbutton_11"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Connaître FFmpeg] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="8126-9793" type="hidden"><input value="Modifier" class="button" title="Connaître FFmpeg" type="submit"></div></form></div>
<h3 class="sectionedit12" id="instruction_generale">Instruction générale</h3>
<div class="level3">

</div>

<h4 id="utilisation_multithreads">Utilisation Multithreads</h4>
<div class="level4">

<p>
Si FFmpeg est compilé avec la possibilité de faire du <strong><a href="http://doc.ubuntu-fr.org/multithreading" class="wikilink1" title="multithreading">multithreading</a></strong>
 (la version par défaut d'ubuntu le permet par exemple), il permet sans 
aucune difficulté d'utiliser les processeurs actuels à leur plein 
potentiel pour encoder un fichier, il suffit de passer l'instruction 
threads à ffmpeg à chaque encodage :
</p>
<pre class="code">-threads 0</pre>

<p>
Vous pouvez spécifier le nombre de threads à utiliser comme ceci :
</p>
<pre class="code">-threads N</pre>

<p>
N étant le nombre de threads à utiliser. Vous pouvez donc en utiliser 
seulement 3 sur un processeur Quad Core pour garder une grande 
réactivité sur une autre tâche.
</p>

<p>
Vous pouvez ensuite compléter par n'importe quelles instructions, et si 
le codec supporte le multithreading il utilisera automatiquement au 
mieux votre installation.
</p>

</div>

<h4 id="fichiers_d_entree_et_de_sortie">Fichiers d'entrée et de sortie</h4>
<div class="level4">

<p>
Le fichier d'entrée est spécifié par l'option <strong>-i</strong>, suivi du fichier à encoder.
Pour aller plus vite vous pouvez taper "-i", espace, et glisser le fichier à encoder dans le terminal.
</p>

<p>
Ce qui donne :
</p>
<pre class="code">-i "/home/vous/fichier vidéo.avi"</pre>

<p>
Pour donner le nom de votre fichier de sortie, il faudra juste le taper à la fin de votre commande ffmpeg.
</p>
<pre class="code">ffmpeg -bla bla -bla bla "/home/vous/fichier vidéo de sortie.mkv"</pre>

<p>
Attention !
À moins de savoir exactement ce que vous faites, vous ne devez rien mettre après le nom du fichier final.
</p>

</div>

<h4 id="choisir_le_conteneur">Choisir le conteneur</h4>
<div class="level4">

<p>
Le conteneur est choisi automatiquement via l'extension du fichier.
C'est-à-dire que si le fichier final se termine par <strong>.mkv</strong> le format sera automatiquement mis en <strong>matroska</strong> sans vous demander votre avis.
</p>

<p>
Mais vous pouvez-vous exprimer haut et fort ! en précisant le format via l'option <strong>-f</strong>.
Vous pouvez faire suivre "-f" de tous les formats que vous voulez suivant la liste que vous donne <strong>ffmpeg -formats</strong>.
Par exemple :
</p>
<pre class="code">-f matroska
-f avi</pre>

</div>
<div class="secedit editbutton_section editbutton_12"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Instruction générale] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="9794-11759" type="hidden"><input value="Modifier" class="button" title="Instruction générale" type="submit"></div></form></div>
<h3 class="sectionedit13" id="extraction_de_la_bande_audio">Extraction de la bande Audio</h3>
<div class="level3">

<p>
Tapez la commande :
</p>
<pre class="code">ffmpeg -i &lt;nom du fichier video&gt; -vn -acodec libmp3lame bande_son</pre>

<p>
</p><p></p><div class="noteimportant"> Cette commande n'extrairera pas la piste audio <em>orginale</em>, mais la <strong>transcodera en mp3</strong>, ce qui a des effets néfastes sur la qualité (mais peut servir un intérêt de compatibilité).

</div><p></p>
On lui préférera de manière générale cette méthode pour <strong>extraire la piste audio originale (sans transcodage) de la vidéo</strong>:
<p></p>
<ul>
<li class="level1"><div class="li"> D'abord se renseigner sur le type de flux audio, via <a href="http://doc.ubuntu-fr.org/mediainfo-gui" class="wikilink1" title="mediainfo-gui">Mediainfo</a> ou la commande</div>
</li>
</ul>
<pre class="code">ffmpeg -i &lt;votre vidéo&gt;</pre>

<p>
</p><p></p><div class="noteclassic">N'oubliez pas que vous pouvez 
glisser-déposer votre fichier dans le terminal plutôt que de recopier 
entièrement son chemin d'accès. Ça limite le risque d'erreurs avec les 
espaces etc. <img src="ffmpeg%20-%20Documentation%20Ubuntu%20Francophone_fichiers/icon_wink.gif" class="icon" alt=";-)">
</div><p></p>
Et regarder l'avant-dernière ligne de ce qui ressort, par exemple :
<p></p>
<pre class="code">...
Stream #0.1: Audio: aac, 44100 Hz, stereo, s16, 69 kb/s
At least one output file must be specified</pre>
<ul>
<li class="level1"><div class="li"> Puis appuyer sur Flèche haut (pour ré-entrer automatiquement la commande précédente) ou la retaper puis compléter:</div>
</li>
</ul>
<pre class="code">ffmpeg -i &lt;votre fichier video&gt; -vn -acodec copy '(destination et) nom du fichier audio créé'.EXTENSION</pre>

<p>
Remplacer EXTENSION par:
</p>
<ul>
<li class="level1"><div class="li"> <strong>.m4a</strong> (préférable) ou <strong>.mp4</strong> pour un flux audio en <strong>aac</strong> (comme dans l'exemple), la majorité des vidéos Flash (FLV) récupérées d'Internet ainsi que de nombreux MKV utilisant ce format</div>
</li>
</ul>

<p>
</p><p></p><div class="noteimportant"> Attention à ne pas mettre ".aac" comme extension, sous peine d'avoir un fichier en <em>raw aac</em> qui ne sera pas (ou problématiquement) lisible. Le <abbr title="Advanced Audio Coding">AAC</abbr> doit être placé dans un <a href="https://fr.wikipedia.org/wiki/Format_conteneur" class="urlextern" title="https://fr.wikipedia.org/wiki/Format_conteneur" rel="nofollow">conteneur</a>
 pour être lu, d'où le ".m4a" qui est la version audio du MP4 (qui 
pourrait convenir aussi, mais bon… Vous voulez un fichier audio, donc 
autant faire les choses bien <img src="ffmpeg%20-%20Documentation%20Ubuntu%20Francophone_fichiers/icon_biggrin.gif" class="icon" alt=":-D">)
</div><p></p>
<p></p>
<ul>
<li class="level1"><div class="li"> <strong>.mp3</strong> pour un flux audio en <strong>mp3</strong>,</div>
</li>
<li class="level1"><div class="li"> <strong>.ogg</strong> pour un flux audio en <strong>vorbis</strong>…</div>
</li>
</ul>

</div>
<div class="secedit editbutton_section editbutton_13"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Extraction de la bande Audio] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="11760-13749" type="hidden"><input value="Modifier" class="button" title="Extraction de la bande Audio" type="submit"></div></form></div>
<h3 class="sectionedit14" id="extraction_de_la_bande_video">Extraction de la bande Video</h3>
<div class="level3">

<p>
Tapez la commande :
</p>
<pre class="code">ffmpeg -i '(chemin et)nom du fichier video' -an -vcodec copy '(chemin et) nom de la bande video extraite'.EXTENSION</pre>

<p>
</p><p></p><div class="noteimportant"> Cette commande ne fonctionnera pas tant que vous ne préciserez pas l'<strong>extension</strong>
 du fichier à créer, à savoir son conteneur.
Ici cependant, on peut se contenter d'utiliser la même extension que le 
fichier source (.mkv, .ogm, .avi, etc), ou encore changer de conteneur 
(passer de .flv à .mkv par exemple) sans pour autant transcoder le flux 
vidéo, ce qui est bien pratique.
</div><p></p>
<em class="u">Remarque</em>: bien que ffmpeg fasse très bien les choses,
 pour certains formats et en particulier le MKV, il est recommandé 
d'utiliser les outils dédiés tels que <a href="http://doc.ubuntu-fr.org/mkvtoolnix" class="wikilink1" title="mkvtoolnix">mkvtoolnix</a>.
<p></p>

</div>
<div class="secedit editbutton_section editbutton_14"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Extraction de la bande Video] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="13750-14515" type="hidden"><input value="Modifier" class="button" title="Extraction de la bande Video" type="submit"></div></form></div>
<h3 class="sectionedit15" id="instructions_d_encodage_audio">Instructions d'encodage Audio</h3>
<div class="level3">

<p>
Il faut paramétrer le son. Et c'est très simple !
</p>
<pre class="code">-acodec "nom du codec"</pre>

<p>
Vous permet de choisir le codec.
</p>
<pre class="code">-ab 128000</pre>

<p>
ou
</p>
<pre class="code">-ab 128k</pre>

<p>
Vous permet de choisir le bitrate à utiliser pour le son.
</p>

<p>
Si vous préférez choisir une qualité plutôt qu'un bitrate, utilisez :
</p>
<pre class="code">-aq 4</pre>

<p>
Les paramètres suivants sont optionnels (si l'on ne précise rien, les caractéristiques seront identiques au fichier d'origine).
</p>

<p>
Vous pouvez choisir la fréquence d'échantillonnage comme ceci :
</p>
<pre class="code">-ar 44100</pre>

<p>
Le nombre de canaux (stereo/mono/surround) :
</p>
<pre class="code">-ac 2</pre>

<p>
2 étant le nombre de voies (2 : stéréo, 6 : 5.1, etc …)
</p>

</div>
<div class="secedit editbutton_section editbutton_15"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Instructions d'encodage Audio] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="14516-15228" type="hidden"><input value="Modifier" class="button" title="Instructions d'encodage Audio" type="submit"></div></form></div>
<h3 class="sectionedit16" id="instructions_d_encodage_video">Instructions d'encodage vidéo</h3>
<div class="level3">

<p>
C'est là ou ça se complique car il y a plein de codecs vidéos, et ils 
ont souvent des instructions obscures, même pour les utilisateurs les 
plus avertis… Ce qui est… Déroutant…
</p>

<p>
Mais ne vous inquiétez pas, nous allons vous expliquer comment éviter les plus gros pièges !
</p>

<p>
Le codec vidéo se choisit avec l'instruction :
</p>
<pre class="code">-vcodec</pre>

<p>
Les codecs sont nombreux, et il faudra ajouter pas mal d'instructions pour que le codec ne fasse pas n'importe quoi.
</p>

</div>

<h5 id="codec_libx264">Codec libx264</h5>
<div class="level5">

<p>
Le codec libx264 a besoin d'une instruction supplémentaire obligatoire.
</p>

<p>
Si vous souhaitez l'utiliser, il est fortement conseillé d'utiliser les <em>preset</em> fournis par ffmpeg.
Ce sont des "packs" d'options pré-configurées.
</p>
<pre class="code">-vpre</pre>

<p>
suivi d'un <em>preset</em> qui donnera les paramètres par défaut de l'encodeur à FFMpeg suivant plusieurs profils.
</p>

<p>
Les <em>preset</em> gérant la complexité et les <em>feature</em> activés dans le fichier vidéo de sortie :
</p>
<ul>
<li class="level1"><div class="li"> baseline : à utiliser si votre matériel n'arrive pas à décoder les fichiers encodés avec les autres <em>preset</em>.</div>
</li>
<li class="level1"><div class="li"> main : inférieur au profile <em>high</em></div>
</li>
<li class="level1"><div class="li"> ipod320</div>
</li>
<li class="level1"><div class="li"> ipod640</div>
</li>
</ul>

<p>
Le profile <em>high</em> n'est pas disponible en option car il est le <em>preset</em> par défaut.
</p>

<p>
Les <em>preset</em> gérant le temps nécessaire à l'encodage :
</p>
<ul>
<li class="level1"><div class="li"> ultrafast : le plus rapide, mais donne la moins bonne qualité d'image.</div>
</li>
<li class="level1"><div class="li"> superfast</div>
</li>
<li class="level1"><div class="li"> veryfast</div>
</li>
<li class="level1"><div class="li"> faster</div>
</li>
<li class="level1"><div class="li"> fast</div>
</li>
<li class="level1"><div class="li"> medium</div>
</li>
<li class="level1"><div class="li"> slow</div>
</li>
<li class="level1"><div class="li"> slower</div>
</li>
<li class="level1"><div class="li"> veryslow : La meilleure qualité au prix de la vitesse</div>
</li>
<li class="level1"><div class="li"> placebo : le plus lent, mais pas la meilleure qualité (optimisé pour les benchmarks)</div>
</li>
</ul>

<p>
Les <em>preset</em> gérant le temps nécessaire à un encodage sans aucune perte de qualité d'image :
</p>
<ul>
<li class="level1"><div class="li"> lossless_max</div>
</li>
<li class="level1"><div class="li"> lossless_ultrafast</div>
</li>
<li class="level1"><div class="li"> lossless_fast</div>
</li>
<li class="level1"><div class="li"> lossless_medium</div>
</li>
<li class="level1"><div class="li"> lossless_slow</div>
</li>
<li class="level1"><div class="li"> lossless_slower</div>
</li>
</ul>

<p>
Par exemple, la ligne suivante permet de spécifier que le fichier de 
sortie doit pouvoir être lu sur à peu près n'importe quel appareil (cela
 donnera une moins bonne qualité d'image ou un fichier de sortie plus 
gros) et un encodage très lent (pour essayer de maximiser la qualité 
d'image) :
</p>
<pre class="code">-vcodec libx264 -vpre baseline -vpre veryslow</pre>

<p>
Il ne reste plus qu'à dire au codec la qualité ou le débit que l'on attend pour la vidéo finale.
</p>

</div>

<h5 id="codec_libvpx">codec libvpx</h5>
<div class="level5">

<p>
Le codec libvpx (c'est à dire VP8) propose des options par défaut de très mauvaise qualité…
Il va falloir préciser quelques options non obligatoires, mais grandement conseillées.
</p>
<pre class="code">-rc_lookahead 16 -keyint_min 0 -g 360 -skip_threshold 0 -level 116</pre>
<ul>
<li class="level1"><div class="li"> <strong>-rc_lookahead 16</strong> permet au codec de regarder les prochaines images pour adapter ces paramètres en conséquence.</div>
</li>
<li class="level1"><div class="li"> <strong>-g 360</strong> demande au codec de créer une image de référence toutes les 360 images.</div>
</li>
<li class="level1"><div class="li"> <strong>-level 116</strong> permet 
de passer en mode "lent". Cela active des améliorations graphiques mais 
augmente le temps d'encodage. Vous pouvez la modifier en 216 pour gagner
 un peu de temps ou 214, mais vous perdrez en qualité.</div>
</li>
</ul>

</div>

<h4 id="encodage_a_bitrate_constant_-_cbr">Encodage à bitrate constant - CBR</h4>
<div class="level4">

<p>
Faire une vidéo en bitrate (débit) constant revient à rendre les scènes 
en mouvement moins belles que les scènes statiques, ce type d'encodage 
n'est pas conseillé !
</p>

<p>
Pour choisir un bitrate, il suffit de le préciser après l'instruction :
</p>
<pre class="code">-b</pre>

<p>
Le bitrate peut être préciser en bits/s ou en kbits/s :
</p>
<pre class="code">-b 2700000</pre>
<pre class="code">-b 2700k</pre>

</div>

<h4 id="encodage_a_qualite_constante">Encodage à qualité constante</h4>
<div class="level4">

<p>
Faire une qualité constante est très simple, il suffit de choisir un 
quantiser identique pour la qualité maximale et minimale de la vidéo 
avec les instructions suivantes :
</p>
<pre class="code">-qmin 20 -qmax 20</pre>

<p>
Voilà, c'est tout !
Vous pouvez changer le nombre par un plus élevé (moins bonne qualité) ou plus bas (meilleure qualité)
</p>

<p>
</p><p></p><div class="notetip">Vous pouvez mixer ces paramètres avec un bitrate pour créer un bitrate constant avec des limites de qualité minimum et maximum.
</div><p></p>
<p></p>

</div>

<h5 id="avec_libx264">avec libx264</h5>
<div class="level5">

<p>
Pour un encodage en h264, il est conseillé d'utiliser l'option <strong>-crf</strong> (non décrite dans le manuel) plutôt que "-qmin" et "-qmax".
</p>
<pre class="code">-crf 20</pre>

</div>

<h4 id="encodage_2-pass">Encodage 2-pass</h4>
<div class="level4">

<p>
L'encodage double passes, multi passes, 2pass ou autres, est une 
technique d'encodage qui mêle les deux techniques d'encodage 
précédentes.
</p>

<p>
Cette technique permet d'encoder une première fois à bitrate constant 
pour faire un index des moments qui vont être encodés avec une qualité 
exécrable.
Ensuite lors du deuxième encodage, la qualité sera équilibrée en 
baissant la qualité globale des meilleures scènes pour augmenter la 
qualité des plus mauvaises, ce qui revient quasiment au même que d'avoir
 une qualité constante.
Au final on aura donc une vidéo plus uniforme niveau qualité, tout en 
ayant le contrôle via un bitrate.
</p>

<p>
Pour lancer un encodage 2 passes il faut préciser beaucoup de paramètres et lancer l'encodage deux fois.
</p>
<pre class="code">-b 2700000 -qmin 1 -qmax 31 -minrate 0 -maxrate 9000000 -pass 1 -passlogfile pass1.fpf</pre>

<p>
Les paramètres sont simples : on choisit le bitrate moyen voulu, le 
bitrate minimum (-minrate) que l'on peut atteindre (pourquoi pas 0), et 
le bitrate maximum (-maxrate) (là aussi, si la vidéo n'a rien à voir 
avec le streaming, mettez le plus haut possible).
Il faut aussi préciser un quantiser minimum et maximum ! Pourquoi ? 
Parce que certains codecs comme le VP8 ont des bugs si on ne le fait 
pas…
</p>

<p>
Certains codecs ont leur maxi à 31 d'autre plus haut. Comme le VP8 et le x264 qui vont jusqu'à 51.
</p>

<p>
Ensuite, -pass 1 signifie que nous sommes en train d'effectuer la 
première passe. et passlogfile est le fichier "pass" que l'on écrira 
temporairement.
</p>

<p>
Pour la seconde passe, utilisez les mêmes paramètres à une exception ! 
(vous pouvez utiliser la flèche de haut pour retourner dans l'historique
 du terminal)
</p>

<p>
La seule chose à modifier est le paramètre <strong>-pass 1</strong> à changer en <strong>-pass 2</strong>.
</p>

<p>
Fini !
</p>

<p>
</p><p></p><div class="noteclassic">De par mon expérience, si vous 
utilisez un encodage en h264 et que vous visez une certaine qualité 
d'image et non une taille de fichier, utilisez l'option <strong>-crf</strong> sans spécifier de bitrate.
<p></p>

<p>
Si, en revanche, vous voulez une taille de fichier final bien précise, utilisez un encodage en 2 passes.
</p>

<p>
Voir : <a href="http://doc.ubuntu-fr.org/encodage_dvd_mkv" class="wikilink1" title="encodage_dvd_mkv">Encodage DVD → MKV</a>

</p></div><p></p>
<p></p>

</div>
<div class="secedit editbutton_section editbutton_16"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Instructions d'encodage vidéo] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="15229-21553" type="hidden"><input value="Modifier" class="button" title="Instructions d'encodage vidéo" type="submit"></div></form></div>
<h3 class="sectionedit17" id="transformer_la_video">Transformer la vidéo</h3>
<div class="level3">

<p>
Vous pouvez transformer la vidéo avec ffmpeg, modifier la résolution, 
changer l'aspect ratio (4/3, 16/9), couper autour de l'image, etc.
</p>

<p>
Bon pour la découpe… c'est clair c'est plus simple avec un outils graphique comme <a href="http://doc.ubuntu-fr.org/handbrake" class="wikilink1" title="handbrake">Handbrake</a>, mais ne sous estimez pas la puissance de la ligne de commande hein ! <img src="ffmpeg%20-%20Documentation%20Ubuntu%20Francophone_fichiers/icon_biggrin.gif" class="icon" alt=":-D">
</p>

</div>

<h4 id="changer_la_resolution">Changer la résolution</h4>
<div class="level4">

<p>
Vous pouvez changer la résolution avec <strong>-s</strong> et en spécifiant la résolution.
Vous pouvez spécifier manuellement (1280x720) ou automatiquement (hd720)
</p>

<p>
Voici la liste des abréviations :
</p>
<div class="table sectionedit18"><table class="inline">
	<tbody><tr class="row0">
		<td class="col0 leftalign"> sqcif  </td><td class="col1 leftalign"> qcif    </td><td class="col2 leftalign"> cif     </td><td class="col3 leftalign"> 4cif    </td><td class="col4 leftalign"> 16cif     </td>
	</tr>
	<tr class="row1">
		<td class="col0"> 128x96 </td><td class="col1"> 176x144 </td><td class="col2"> 352x288 </td><td class="col3"> 704x576 </td><td class="col4"> 1408x1152 </td>
	</tr>
</tbody></table></div>
<div class="table sectionedit19"><table class="inline">
	<tbody><tr class="row0">
		<td class="col0 leftalign"> qqvga   </td><td class="col1 leftalign"> qvga    </td><td class="col2 leftalign"> vga     </td><td class="col3 leftalign"> svga    </td><td class="col4 leftalign"> wvga    </td>
	</tr>
	<tr class="row1">
		<td class="col0"> 160x120 </td><td class="col1"> 320x240 </td><td class="col2"> 640x480 </td><td class="col3"> 800x600 </td><td class="col4"> 852x480 </td>
	</tr>
</tbody></table></div>
<div class="table sectionedit20"><table class="inline">
	<tbody><tr class="row0">
		<td class="col0 leftalign"> xga      </td><td class="col1 leftalign"> uxga      </td><td class="col2 leftalign"> sxga      </td><td class="col3 leftalign"> wxga     </td><td class="col4 leftalign"> wsxga     </td><td class="col5 leftalign"> wuxga     </td><td class="col6 leftalign"> qxga      </td><td class="col7 leftalign"> woxga     </td><td class="col8 leftalign"> qsxga     </td><td class="col9 leftalign"> wqsxga    </td><td class="col10 leftalign"> wquxga    </td>
	</tr>
	<tr class="row1">
		<td class="col0"> 1024x768 </td><td class="col1"> 1600x1200 </td><td class="col2"> 1280x1024 </td><td class="col3"> 1366x768 </td><td class="col4"> 1600x1024 </td><td class="col5"> 1920x1200 </td><td class="col6"> 2048x1536 </td><td class="col7"> 2560x1600 </td><td class="col8"> 2560x2048 </td><td class="col9"> 3200x2048 </td><td class="col10"> 3840x2400 </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> hsxga     </td><td class="col1 leftalign"> whsxga    </td><td class="col2"> whuxga </td><td class="col3"></td><td class="col4"></td><td class="col5"></td><td class="col6"></td><td class="col7"></td><td class="col8"></td><td class="col9"></td><td class="col10"></td>
	</tr>
	<tr class="row3">
		<td class="col0"> 5120x4096 </td><td class="col1"> 6400x4096 </td><td class="col2"> 7680x4800 </td><td class="col3"></td><td class="col4"></td><td class="col5"></td><td class="col6"></td><td class="col7"></td><td class="col8"></td><td class="col9"></td><td class="col10"></td>
	</tr>
</tbody></table></div>
<div class="table sectionedit21"><table class="inline">
	<tbody><tr class="row0">
		<td class="col0 leftalign"> cga     </td><td class="col1 leftalign"> ega     </td>
	</tr>
	<tr class="row1">
		<td class="col0"> 320x200 </td><td class="col1"> 640x350 </td>
	</tr>
</tbody></table></div>
<div class="table sectionedit22"><table class="inline">
	<tbody><tr class="row0">
		<td class="col0 leftalign"> hd480   </td><td class="col1 leftalign"> hd720    </td><td class="col2 leftalign"> hd1080    </td>
	</tr>
	<tr class="row1">
		<td class="col0"> 852x480 </td><td class="col1"> 1280x720 </td><td class="col2"> 1920x1080 </td>
	</tr>
</tbody></table></div>

</div>

<h4 id="changer_le_nombre_d_images_par_seconde">Changer le nombre d'images par seconde</h4>
<div class="level4">

<p>
Le framerate, ou FPS se change comme ceci :
</p>
<pre class="code">-r FPS</pre>

<p>
Par exemple :
</p>
<pre class="code">-r 25</pre>

</div>

<h4 id="changer_l_aspect_ratio">Changer l'aspect ratio</h4>
<div class="level4">
<pre class="code">-aspect aspect</pre>

<p>
Aspect étant 4:3, 16:9 ou 1.3333, 1.7777. Vous pouvez faire des aspects spéciaux si vous le voulez.
</p>

</div>
<div class="secedit editbutton_section editbutton_17"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Transformer la vidéo] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="21554-23104" type="hidden"><input value="Modifier" class="button" title="Transformer la vidéo" type="submit"></div></form></div>
<h3 class="sectionedit23" id="faire_des_essais_de_conversion_avec_ffmpeg_sur_une_portion_de_fichier">Faire des essais de conversion avec FFmpeg sur une portion de fichier</h3>
<div class="level3">

<p>
La commande ci dessous permet de faire un essai d'encodage :
</p>
<pre class="code">ffmpeg -ss 80 -t 60 -i videoInput.mpg -s 240x180 -b 380k -ab 64k videoOutput.flv</pre>

<p>
Cette commande convertit la portion commençant à t<sub>0</sub> = 80 secondes (option <strong>-ss</strong>) et s'étendant sur une durée de 60 secondes (option <strong>-t</strong>) du fichier d'entrée "videoInput.mpg" codé en <abbr title="Moving Picture Experts Group">MPEG</abbr>.
Le fichier produit sera encodé en Flash, la taille d'image sera de 
240×180, le débit engendré par son affichage de 380 kbps et le débit 
audio de 64 kbps.
</p>

<p>
Exemple pour sortir un fichier AVI en qualité moyenne, à partir d'un fichier OGG Theora :
</p>
<pre class="code">ffmpeg -ss 4518 -t 1100 -b 768k -ab 128k -i videoInput.ogv -f avi videoOutput.avi</pre>

</div>
<div class="secedit editbutton_section editbutton_23"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Faire des essais de conversion avec FFmpeg sur une portion de fichier] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="23105-23899" type="hidden"><input value="Modifier" class="button" title="Faire des essais de conversion avec FFmpeg sur une portion de fichier" type="submit"></div></form></div>
<h3 class="sectionedit24" id="exemples_de_conversions">Exemples de conversions</h3>
<div class="level3">

</div>

<h4 id="convertir_une_video_en_webm_vp8_vorbis_en_deux_passes">Convertir une vidéo en WebM (VP8+Vorbis) en deux passes</h4>
<div class="level4">

<p>
Ces deux commandes permettent d'encoder en deux passes un fichier WebM.
Pour que cela fonctionne vous devez avoir minimum FFMpeg 0.6 !
</p>
<pre class="code">avconv -i 'fichier source' -threads 0 -vcodec libvpx -b 1500k -minrate 0 -maxrate 9000k -rc_lookahead 16 -keyint_min 0 -g 360 -skip_threshold 0 -level 116 -qmin 1 -qmax 51 -an  -pass 1 -passlogfile pass1.fpf pass1.webm
avconv -i 'fichier source' -threads 0 -vcodec libvpx -b 1500k -minrate 0 -maxrate 9000k -rc_lookahead 16 -keyint_min 0 -g 360 -skip_threshold 0 -level 116 -qmin 1 -qmax 51 -acodec libvorbis -ab 192k -pass 2 -passlogfile pass1.fpf "fichier final.webm"</pre>

</div>

<h4 id="convertir_une_video_en_x264_en_qualite_constante">Convertir une vidéo en x264 en qualité constante</h4>
<div class="level4">

<p>
Cette commande permet d'encoder un fichier vidéo en H.264 en qualité constante :
</p>
<pre class="code">ffmpeg -threads 0 -i "fichier d'origine" -f matroska -vcodec libx264 -vpre normal -crf 20 -acodec libvorbis -ab 192k -ar 44100 -ac 2 "fichier final.mkv"</pre>

</div>

<h4 id="convertir_le_format_flv_en_avi">Convertir le format FLV en AVI</h4>
<div class="level4">

<p>
Cette conversion est utile si vous téléchargez des vidéos en streaming (YouTube, Google Video, etc.).
</p>
<pre class="code">ffmpeg -i nom_du_fichier.flv -f avi nom_du_fichier.avi</pre>

</div>

<h4 id="convertir_le_format_avi_en_mpeg">Convertir le format AVI en MPEG</h4>
<div class="level4">

<p>
Un exemple de commande, et d'options, pour faire un DVD (donc un format <abbr title="Moving Picture Experts Group">MPEG</abbr>) depuis un fichier <code>avi</code> : 
</p>
<pre class="code">ffmpeg -i ma_video.avi -target pal-dvd -aspect 16:9 -sameq mon_dvd_video.mpg</pre>

<p>
Où :
</p>
<ul>
<li class="level1"><div class="li"> <strong>-i ma_video.avi</strong> est le fichier départ ;</div>
</li>
<li class="level1"><div class="li"> <strong>-target pal-dvd</strong> le format de sortie ;</div>
</li>
<li class="level1"><div class="li"> <strong>-fs 2000000000</strong> la taille maximale du fichier de sortie, en bits (ici 2&nbsp;Gbit) ;</div>
</li>
<li class="level1"><div class="li"> <strong>-aspect 16:9</strong> le ratio widescreen (avec les franges en haut et en bas).</div>
</li>
</ul>

</div>

<h4 id="convertir_le_format_avi_en_dv">Convertir le format AVI en DV</h4>
<div class="level4">

<p>
Cette conversion est utile pour faire du montage vidéo, dans <a href="http://doc.ubuntu-fr.org/kino" class="wikilink1" title="kino">Kino</a> par exemple.
</p>
<pre class="code">ffmpeg -i video.avi -target pal-dv video.dv</pre>

<p>
Attention, ici le chemin n'est pas précisé. Le fichier doit se trouver dans votre dossier personnel pour que cela fonctionne.
</p>

</div>

<h4 id="convertir_un_grand_nombre_de_fichiers_video_vers_le_format_mp3">Convertir un grand nombre de fichiers Vidéo vers le format MP3</h4>
<div class="level4">

<p>
Ce script permet d'automatiser la conversion de vidéos de plusieurs formats ( Mpeg4, Avi, Flv etc… ) vers le format <abbr title="Moving Picture Experts Group Layer 3">MP3</abbr>.
Plusieurs formats de vidéos peuvent se trouver dans le même dossier au moment de la conversion. 
</p>
<pre class="code"> #!/bin/bash
#Fichier "Convertion Script " 

echo "Création de la liste de fichiers..."
cd CHEMIN_VERS_LES_VIDEOS ( par exemple ~/Downloads ou ~/Videos )
ls *.* &gt; to_convert
echo "Préparation de ffmpeg..."
while read line  
do
		echo "Traitement de $line programmé"
done &lt; to_convert
#On s'assure que chaque vidéo à été detectée
while read line
do
	sed -i -e "s/(//g" to_convert
	sed -i -e "s/)//g" to_convert 
	sed -i -e "s/\[//g" to_convert 
	sed -i -e "s/\]//g" to_convert 
	sed -i -e "s/\ /\./g" to_convert
done &lt; to_convert
#Ceci permet de contourner le problème posé par d'éventuels caractères spéciaux dans le titre de la vidéo traitée ( tels que "[","]","(",")" ou " ")
echo "_______________________________________________"
while read line
do
	rename=`echo ${line%%.*}`
	original=`ls CHEMIN_VERS_LES_VIDEOS| grep $rename`
	mv CHEMIN_VERS_LES_VIDEOS/"$original" CHEMIN_VERS_LES_VIDEOS/"$line"
	echo "$line loaded"
done &lt; to_convert
echo "______________________________________________"
echo "La convertion a démarré : "
while read line 
do
	sdot=`echo ${line%.*}`
	echo "CONVERTION EN COURS :[ $line ]"
	ffmpeg -ab 192k -i `echo "$line"` `echo "$sdot.mp3"` 1&gt;.ffmpeg_last_log 2&gt;/dev/null
        #Le fichier log de la conversion seront stockés dans le dossier courant sous le nom ".ffmpeg_last_log"
	mv $line /RÉPERTOIRE OU SERONT STOCKÉES LES VIDÉOS SI ON SOUHAITE LES CONSERVER ( COMMENTER POUR ENLEVER )
	mv "$sdot.mp3" /RÉPERTOIRE OU SERA DÉPLACÉ LE FICHIER *.MP3 GÉNÉRÉ ( COMMENTER POUR ENLEVER )
	echo "→ OK !"
done &lt; to_convert
rm to_convert</pre>

</div>
<div class="secedit editbutton_section editbutton_24"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Exemples de conversions] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="23900-27857" type="hidden"><input value="Modifier" class="button" title="Exemples de conversions" type="submit"></div></form></div>
<h3 class="sectionedit25" id="utilisations_specifiques">Utilisations spécifiques</h3>
<div class="level3">

</div>

<h4 id="convertir_le_format_avi_en_mp4_psp">Convertir le format AVI en MP4 (PSP)</h4>
<div class="level4">

<p>
Cette conversion est utile pour lire vos vidéos sur une console portable <a href="http://doc.ubuntu-fr.org/psp" class="wikilink1" title="psp">PSP</a>. En ligne de commande, tapez :
</p>
<pre class="code">ffmpeg -i video.avi -f psp -r 29.97 -b 768k -ar 24000 -ab 64k -s 480x160 m4v00001.mp4 </pre>

<p>
Attention, si vous générez plusieurs fichiers vidéos, ceux-ci doivent 
avoir un nommage particulier pour pouvoir être lus sur votre console 
(m4v00001.mp4, m4v00002.mp4, m4v00003.mp4, et ainsi de suite).
</p>

<p>
Si vous encodez une vidéo qui est au format 4/3, choisissez une taille de 320×240 pour conserver les proportions.
</p>

<p>
Pour avoir une bonne qualité avec une résolution 480×272, avec un débit de 768 kbps, <em>firmware</em> conseillé 3.71 ou supérieur :
</p>
<pre class="code">ffmpeg -i video_en_entrée.avi -r 29.97 -vcodec h264 -s 640x480 -aspect 16:9 -flags +loop -cmp +chroma -deblockalpha 0 -deblockbeta 0 -b 768k -maxrate 1500k -bufsize 4M -bt 256k -refs 1 -bf 3 -coder 1 -me_method umh -me_range 16 -subq 7 -partitions +parti4x4+parti8x8+partp8x8+partb8x8 -g 250 -keyint_min 25 -level 30 -qmin 10 -qmax 51 -qcomp 0.6 -trellis 2 -sc_threshold 40 -i_qfactor 0.71 -acodec aac -ab 112k -ar 48000 -ac 2 -s 480x272 -aspect 4:3 video_en_sortie.mp4 </pre>

<p>
Créer une vignette de la vidéo qui vient d'être encodé au format 160x120 en jpg.
</p>
<ul>
<li class="level1"><div class="li"> -ss 5 : Va à la 5ème seconde de la vidéo</div>
</li>
<li class="level1"><div class="li"> -vframes 1 : Pour n'avoir qu'une image</div>
</li>
</ul>
<pre class="code">ffmpeg -i video.mp4 -f image2 -ss 5 -vframes 1 -s 160x120 video.jpg</pre>

</div>

<h4 id="convertir_un_fichier_3gp_ou_amr_en_mpeg_ou_mp3">Convertir un fichier 3GP ou AMR en MPEG ou MP3</h4>
<div class="level4">

<p>
Les fichiers <code>.AMR</code> (Pour <em>Adaptive Multi-Rate Codec</em>,
 ou Codec multi-débit adaptatif) sont des fichiers sons spécifiques aux 
téléphones mobiles, et deviennent de plus en plus répandus au fur et à 
mesure du développement des dictaphones intégrés aux portables et des 
téléphones-baladeurs, tout comme les fichiers <code>.3GP</code> (Pour <em>3rd Generation Partnership Project</em>, projet de partenariat de 3ème génération) qui sont leurs homologues vidéos.
</p>

<p>
Il existe différentes méthodes pour les manipuler, dont celles utilisant FFmpeg en ligne de commande.
</p>

<p>
Dans les premières versions de cet article, nous présenterons une méthode par interface graphique, utilisant l'utilitaire <a href="http://www.miksoft.net/mobileMediaConverter.htm" class="urlextern" title="http://www.miksoft.net/mobileMediaConverter.htm" rel="nofollow">Mobile Media Converter</a>.
</p>

<p>
Ce programme se présente sous forme d'archive à décompacter, et il 
suffit de double-cliquer sur l'exécutable Mobile Media Converter pour le
 lancer une fois extrait de l'archive.
</p>

</div>

<h4 id="convertir_des_fichiers_musicaux">Convertir des fichiers musicaux</h4>
<div class="level4">

<p>
Pour les fichiers sonores, la commande typique est :
</p>
<pre class="code">ffmpeg -i monMorceau.mp3 monMorceau.wav</pre>

<p>
Cependant pour convertir un fichier quelconque en fichier mp3, il faut régler le <em>bitrate</em>.
Par défaut le bitrate est de 64 kbps, ce qui donne des fichiers extrêmement légers mais des morceaux ignobles à écouter.
Il faut donc modifier ce <em>bitrate</em>, on conseille un minimum de 128 kbps, mais pour avoir le meilleur rapport qualité/taille, préférez 192 kbps, et sachez que les <em>bitrates</em> courants peuvent aller jusqu'à 320 kbps.
</p>

<p>
Pour une conversion vers un <abbr title="Moving Picture Experts Group Layer 3">MP3</abbr> avec un <em>bitrate</em> de 192 kbps, la commande est :
</p>
<pre class="code">ffmpeg -ab 192k -i monMorceau.ogg monMorceau.mp3</pre>

</div>

<h4 id="extraire_la_bande_son_d_une_video">Extraire la bande son d'une vidéo</h4>
<div class="level4">

<p>
Pour extraire la bande sonore d'une vidéo (dans cet exemple, avec un 
format «&nbsp;.avi&nbsp;», cela fonctionne également pour les autres 
formats), et le récuperer en mp3 (Autres choix possibles) : 
</p>
<pre class="code">ffmpeg -i fichier_video.avi -vn -ar 44100 -ac 2 -ab 192k -f mp3 fichier_son.mp3</pre>

</div>

<h5 id="extraction_sans_perte">Extraction sans perte</h5>
<div class="level5">

<p>
Pour extraire la piste audio d'un fichier sans aucune perte de qualité 
(utile pour les vidéos musiques téléchargées sur youtube par exemple).
</p>
<pre class="code">ffmpeg -i fichier_entrer.mp4 -vn -acodec copy fichier_sortie.m4a</pre>

<p>
m4a correspond à un fichier mp4 ne contenant qu'une piste audio, le conteneur de sortie est donc mp4.
</p>

<p>
Adapté le conteneur au codec audio utilisé dans le fichier d'entrée.
Vous pouvez déterminer ce codec avec la commande :
</p>
<pre class="code">ffmpeg -i fichier_entrer.mp4</pre>

<p>
<a href="http://en.wikipedia.org/wiki/Comparison_of_container_formats#Audio_formats_supported" class="urlextern" title="http://en.wikipedia.org/wiki/Comparison_of_container_formats#Audio_formats_supported" rel="nofollow">Wikipédia</a> peut vous aider à choisir un conteneur compatible avec votre codec.
</p>

</div>
<div class="secedit editbutton_section editbutton_25"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Utilisations spécifiques] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="27858-32138" type="hidden"><input value="Modifier" class="button" title="Utilisations spécifiques" type="submit"></div></form></div>
<h3 class="sectionedit26" id="convertir_tous_les_fichiers_windows_media_audio_wma_en_mp3">Convertir tous les fichiers Windows Media Audio ( WMA ) en mp3</h3>
<div class="level3">

<p>
Dans un dossier contenant des fichiers au format wma.
La boucle for lance la conversion des fichiers.
Il suffira de supprimer les fichier wma une fois la conversion terminée.
</p>
<pre class="code">for i in *.wma; do ffmpeg -i "$i" -ab 256k "${i%wma}mp3"; done</pre>

</div>

<h4 id="effectuer_une_capture_video_screencast_de_l_ecran">Effectuer une capture vidéo (screencast) de l'écran</h4>
<div class="level4">

<p>
Après avoir exécuté cette commande, appuyez sur q pour arrêter la capture.
</p>
<pre class="code">ffmpeg -b 1000k -f x11grab -s 800x600 -r 30 -i :0.0 screencast.mpg</pre>

<p>
Pour une capture d'écran Hi-Fi, <strong>son et vidéo</strong> sans perte, avec <strong>Pulse Audio</strong> comme serveur de son :
</p>
<pre class="code">ffmpeg -f alsa -ac 2 -i pulse -f x11grab -r 30 -s 1024x768 -i :0.0 -acodec pcm_s16le -vcodec libx264 -vpre lossless_ultrafast -threads 0 output.mkv</pre>

</div>
<div class="secedit editbutton_section editbutton_26"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Convertir tous les fichiers Windows Media Audio ( WMA ) en mp3] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="32139-32959" type="hidden"><input value="Modifier" class="button" title="Convertir tous les fichiers Windows Media Audio ( WMA ) en mp3" type="submit"></div></form></div>
<h3 class="sectionedit27" id="pour_consulter_le_manuel_de_ffmpeg">Pour consulter le manuel de FFmpeg</h3>
<div class="level3">
<pre class="code">man ffmpeg</pre>

</div>
<div class="secedit editbutton_section editbutton_27"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Pour consulter le manuel de FFmpeg] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="32960-33030" type="hidden"><input value="Modifier" class="button" title="Pour consulter le manuel de FFmpeg" type="submit"></div></form></div>
<h2 class="sectionedit28" id="pour_en_savoir_plus_sur_internet">Pour en savoir plus sur Internet</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <code><strong>(en)</strong></code> <a href="http://ffmpeg.org/" class="urlextern" title="http://ffmpeg.org/" rel="nofollow">Site officiel</a> </div>
</li>
<li class="level1"><div class="li"> <code><strong>(fr)</strong></code> <a href="http://www.jcartier.net/spip.php?article36" class="urlextern" title="http://www.jcartier.net/spip.php?article36" rel="nofollow">Exemples d'usages</a></div>
</li>
<li class="level1"><div class="li"> <code><strong>(fr)</strong></code> <a href="http://fr.lprod.org/wiki/doku.php?id=video:ffmpeg" class="urlextern" title="http://fr.lprod.org/wiki/doku.php?id=video:ffmpeg" rel="nofollow">ffmpeg sur le site de montage vidéo libre, lprod.org</a></div>
</li>
<li class="level1"><div class="li"> <code><strong>(fr)</strong></code> <a href="http://www.korben.info/ffmpeg-pour-les-nuls.html" class="urlextern" title="http://www.korben.info/ffmpeg-pour-les-nuls.html" rel="nofollow">http://www.korben.info/ffmpeg-pour-les-nuls.html</a></div>
</li>
<li class="level1"><div class="li"> <code><strong>(fr)</strong></code> <a href="http://c-net.fr/?p=269" class="urlextern" title="http://c-net.fr/?p=269" rel="nofollow">Exemple d'installation de ffmpeg</a></div>
</li>
<li class="level1"><div class="li"> <code><strong>(fr)</strong></code> <a href="http://yves.demur.free.fr/conv2pana.bash" class="urlextern" title="http://yves.demur.free.fr/conv2pana.bash" rel="nofollow">Un script pour convertir les vidéos en .3gp</a></div>
</li>
</ul>
<hr>

<p>
<em>Contributeurs principaux : loup_74, ElGeneralMidi, <a href="http://doc.ubuntu-fr.org/utilisateurs/wido" class="wikilink1" title="utilisateurs:wido">Wido</a>, <a href="http://doc.ubuntu-fr.org/utilisateurs/laurentb" class="wikilink1" title="utilisateurs:laurentb">Laurent Bellegarde</a>, Isamaya (pour l'extraction des flux audio et vidéo).</em>
</p>

</div>
<div class="secedit editbutton_section editbutton_28"><form class="button btn_secedit" method="post" action="/ffmpeg"><div class="no"><input name="do" value="edit" type="hidden"><input name="rev" value="1365769077" type="hidden"><input name="summary" value="[Pour en savoir plus sur Internet] " type="hidden"><input name="target" value="section" type="hidden"><input name="range" value="33031-" type="hidden"><input value="Modifier" class="button" title="Pour en savoir plus sur Internet" type="submit"></div></form></div>
<!-- cachefile /srv/www/doc.ubuntu-fr.org/htdocs/data/cache/7/7e9e538c32000e28d42584c6c9065033.xhtml used -->

        <br style="clear:both;">
        <div id="pageinfo">
            <!--  |  | -->
            ffmpeg.txt · Dernière modification: Le 12/04/2013, 14:17 par 213.41.232.122            <br>
            Le contenu de ce wiki est sous licence : <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" rel="license" target="_blank">CC BY-SA v3.0</a>
        </div> 
      </div>

      
      <div id="navigation">

        <ul>
          <li class="menu"><a href="http://www.ubuntu-fr.org/" class="title" id="menu-accueil"><span>Accueil</span></a></li>
          <li class="menu" id="active">
            <a href="http://doc.ubuntu-fr.org/" class="title" id="menu-doc"><span>Documentation</span></a>
            <ul>
              <li id="navWiki" class="cat">
                <h2>Actions</h2>
                <ul>
                  <li><a href="http://doc.ubuntu-fr.org/ffmpeg?do=index" class="action index" accesskey="x" rel="nofollow" title="Index [X]">Index</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/ffmpeg?do=edit&amp;rev=0" class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/ffmpeg?do=revisions" class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li>
                  <li></li>
                  <li><a href="http://doc.ubuntu-fr.org/ffmpeg?do=recent" class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/ffmpeg?do=backlink" class="action backlink" rel="nofollow" title="Liens vers cette page">Liens vers cette page</a></li>
                  <li></li>
                  <li></li>
                  <li></li>
                </ul>
              </li>
              <li id="navDivers" class="cat">
                <h2>Divers</h2>
                <ul>
                  <li><a href="http://doc.ubuntu-fr.org/wiki/participer_wiki" class="wikilink1" title="wiki:participer_wiki">Participer à la documentation</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/documentation_hors_ligne" class="wikilink1" title="documentation_hors_ligne">Documentation hors ligne</a></li>
                  <li><a href="http://www.ubuntu-fr.org/telechargement" title="Télécharger Ubuntu">Télécharger Ubuntu</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="menu"><a href="http://forum.ubuntu-fr.org/" class="title" id="menu-forum"><span>Forum</span></a></li>
          <li class="menu"><a href="http://planet.ubuntu-fr.org/" class="title" id="menu-planet"><span>Planet</span></a></li>
        </ul>

      </div>
      <div id="references-ufr">
        <ul id="legal-ufr">
          <li><a href="http://www.ubuntu-fr.org/contacts">Contact</a></li>
        </ul>

        <ul id="sponsors-ufr">
          <li><a href="http://www.dokuwiki.org/dokuwiki" id="dokuwiki">Propulsé par Dokuwiki</a></li>
        </ul>
      </div>

    </div>
    <!-- $Id$ -->

    <!-- Piwik Image Tracker -->
    <img src="ffmpeg%20-%20Documentation%20Ubuntu%20Francophone_fichiers/piwik.gif" style="border:0" alt="">
    <!-- End Piwik -->

  

</body></html>